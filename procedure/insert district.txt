--PROCEDIMIENTO QUE INSERTA UN DISTRITIO CON EL ID DE SU RESPECTIVA CANTON

create or replace PROCEDURE insertdistrict (
    districtname   IN   district.district_name%TYPE,
    cantonid       IN   district.id_canton%TYPE
) IS
    cant_id district.id_canton%TYPE;
BEGIN
    SELECT
        id_canton
    INTO cant_id
    FROM
        canton
    WHERE
        cantonid = id_canton;

    INSERT INTO district (
        id_district,
        district_name,
        id_canton
    ) VALUES (
        s_district.NEXTVAL,
        districtname,
        cantonid
    );

    COMMIT;
EXCEPTION
    WHEN no_data_found THEN
        dbms_output.put_line('NO EXISTE EL CANTON AL QUE SE QUIERE ASOCIARLE EL DISTRITO');
    WHEN OTHERS THEN
        dbms_output.put_line('CODIGO:' || sqlcode);
        dbms_output.put_line('MENSAJE:' || sqlerrm);
END insertdistrict;
